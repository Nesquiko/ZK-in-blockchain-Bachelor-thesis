% Resume in Slovak
\thispagestyle{empty}

\begin{otherlanguage}{slovak}
\chapter*{Resumé}
\markboth{Resumé}{Resumé}
\addcontentsline{toc}{chapter}{Resumé} 

Táto bakalárska práca skúma aplikáciu dôkazov s nulovým vedomím (ZKPs) v
blockchainoch. Dôkazy s nulovým vedomím sú kryptografická metóda, ktorá
umožňuje overenie dát bez odhalenia samotných dát, čo je ideálne pre
bezpečné a súkromné aplikácie v blockchainoch.

Práca sa zaoberá riešením problému nedostatočného súkromia v
blockchainových transakciách. Blockchainy ako Ethereum ponúkajú
transparentnosť a bezpečnosť, verejná povaha transakcií odhaľuje identity
používateľov a ich finančné aktivity, čo vyvoláva značné obavy o súkromie.
Táto práca predstavuje nové riešenie tohto problému pomocou dôkazov s
nulovým vedomím na vytvorenie schémy tajných adries.

\section{Úvod}

V úvode  je predstavený koncept dôkazov s nulovým vedomím (ZKPs), čo je
kryptografická metóda umožňujúca overenie pravdivosti tvrdenia bez
odhalenia jeho obsahu. Popisuje históriu ZKPs, počnúc ich konceptom v roku
1989, a ich vývoj smerom k neinteraktívnym dôkazom. Tieto dôkazy umožňujú
overenie bez nutnosti priamej interakcie medzi stranami. Kapitola tiež
zdôrazňuje význam tajných adries v blockchainoch, ktoré umožňujú
odosielanie aktív bez odhalenia identity príjemcu. Použitie ZKPs v
kontexte tajných adries zvyšuje súkromie tým, že umožňuje príjemcovi
preukázať vlastníctvo adresy bez prezradenia svojej identity.

Analýza (\ref{chapter:analysis}) opisuje kryptografické princípy za ZKPs a
ich využitie v blockchainoch, najmä v schéme tajných adries. V kapitole
Súvisiaca práca (\ref{chapter:related}) sa skúma existujúci výskum a projekty
týkajúce sa ZKPs a tajných adries. Návrh riešenia (\ref{chapter:solution}) opisuje návrh
konceptu schémy tajných adries využívajúcej ZKPs. V Diskusii o
bezpečnosti (\ref{chapter:security}) sa rozoberajú bezpečnostné aspekty navrhovanej schémy a jej
predpoklady. Kapitola Implementácia (\ref{chapter:implementation}) poskytuje podrobnosti o implementácii
schémy, použitých nástrojoch a technológiách. Kapitola Evaulacia (\ref{chapter:evaluation}) analyzuje
navrhnutú implementáciu z rôznych uhlov, ako napríklad analýza poplatkov, alebo
bezpečnostná analýza.
V kapitole Vyhodnotenie (\ref{chapter:conclusion}) sa
vyhodnocuje implementácia schémy a diskutujú sa jej výsledky. Záver zhŕňa
zistenia práce a navrhuje potenciálne smery pre budúci výskum.

\section{Analýza}

Kapitola Analýza sa analyzuje ZKPs, kryptografickou metódou, ktorá umožňuje
overiť pravdivosť tvrdenia bez odhalenia jeho obsahu. Popisuje interaktívne
dôkazy, kde overovateľ a dokazovateľ interagujú, aby overili pravdivosť
tvrdenia bez odhalenia ďalších informácií. Tieto dôkazy sú však
nepraktické pre reálne aplikácie, pretože vyžadujú, aby bol dokazovateľ online
a komunikoval s každým overovateľom.

Fiat-Shamir transformácia rieši túto nepraktickosť tým, že umožňuje previesť
interaktívny dôkaz na neinteraktívny. To znamená, že dôkaz môže byť
overený bez priamej interakcie, čo je oveľa praktickejšie a škálovateľnejšie
riešenie.

Na praktickú implementáciu dôkazov s nulovým vedomím je potrebné definovať a
zakódovať tvrdenie. Na tento účel sa používajú aritmetické obvody, čo je
výpočtový model zložený z operácií sčítania a násobenia. Tento obvod zakóduje
tvrdenie do formy vhodnej pre "zk-ifying".

SNARKs (Succinct Non-interactive ARguments of Knowledge) sú najčastejšie
používaným systémom ZKP. Sú stručné, čo znamená, že veľkosť dôkazu je malá a
majú relatívne rýchly čas overenia.

Záver kapitoly Analýza skúma, ako systémy ZKP, ako napríklad SNARKs, umožňujú
vytvorenie schémy tajných adries. Táto
časť hodnotí, ako tieto systémy spĺňajú potrebné vlastnosti pre schému tajných
adries, pričom sa zameriava na ich schopnosť zabezpečiť zachovať anonymitu
identity príjemcu transakcie.

\section{Súvisiaca práce}

So vzrastom kryptomien získali ZKPs značnú popularitu nielen v akademických
kruhoch, ale aj medzi startupmi a investormi. Mnohí výskumníci skúmajú túto
oblasť a už sa nepovažuje za kryptografiu len pre odborníkov.

Do ekosystému tajných adries však nie je veľa príspevkov.
Napríklad práca Fan, Jia a Wang, Zhen a Luo, Yili a Bai, Jian
a Li, Yarong a Hao, Yao \cite{FanJiaWang2019} predstavili novú schému tajných adries.
Táto schéma sa vylepšuje rôzne aspekty iných schém, ako napríklad to aby používatelia
nemuseli spravovať viacero párov kľúčov alebo sa zapájali do
dodatočnej súkromnej komunikácie pred každou transakciou. V ich prístupe
stačí, aby si používateľ ponechal jeden pár kľúčov pre počiatočnú
certifikáciu, čo zjednodušuje správu kľúčov a znižuje náklady na úložisko.
Odosielateľ vytvorí jednorazovú transakčnú adresu a pripojí ju k transakcii,
zatiaľ čo príjemca použije svoj súkromný kľúč na overenie transakcie priamo z
blockchainu, čím sa eliminuje potreba samostatného súkromného kanála. Schéma
tiež ponúka flexibilitu pre reguláciu, čo umožňuje, aby transakcie boli buď
úplne alebo čiastočne regulované na základe bezpečnostných a právnych požiadaviek.

Wang \cite{Wang2023} predstavil koncept Fast Stealth Addresses (FSAs) na
zlepšenie efektivity vyhľadávania efemérnych kľúčov. Ich prístup sa snaží prekonať lineárny čas vyhľadávania
vyžadovaný v existujúcich schémach tým, že umožňuje konštantný čas rozpoznania
na určenie, či blok obsahuje transakcie príjemcu, a logaritmický čas
vyhľadávania na nájdenie konkrétnych. Autori poskytujú všeobecnú
konštrukciu schémy FSA za predpokladov členstva v podskupine súvisiacich s
rozkladom čisel a inštancujú konkrétne schémy založené na špecifických
teoreticko číselných predpokladoch. Formalizujú tiež bezpečnostný model schémy
FSA a poskytujú bezpečnostnú dôkaz.

Na Ethereume existujú dva protokoly, ktoré implementujú schému tajných adresy. Prvý
sa volá Nocturne \cite{nocturne}. Protokol je kombináciou kryptografie eliptických
kriviek a ZKPs. V tomto protokole uzamknete svoje prostriedky v ekosystéme Nocturne,
v ktorom sa nové tajné adresy vytvárajú pomocou schémy adries tajných za použitia eliptických kriviek a k
svojim prostriedkom pristupujete odosielaním ZKPs. Podľa ich príspevku na Twitteri však svoj protokol
ukončujú.

Druhý sa volá Umbra \cite{umbra}. Umbra je protokol na Ethereume, ktorý implementuje
tajné adresy iba pomocou kryptografie eliptických kriviek. V tomto protokole má
príjemca súkromné kľúče. Odosielateľ vygeneruje náhodné číslo, zašifruje ho
pomocou verejného kľúča príjemcu a potom vypočíta stealth adresu z verejného
kľúča príjemcu a náhodného čísla. Zašifrované náhodné číslo, efemérny verejný
kľúč a tajných adresa sa potom zverejnia. Príjemca môže skenovať tieto
oznámenia, dešifrovať náhodné číslo pomocou svojho súkromného kľúča a
skontrolovať, či odvodená adresa zodpovedá adrese v oznámení. Ak áno,
môžu potom použiť svoj kľúč na prístup k nej.

\section{Návrh riešenia}

Návrh riešenia sa zaoberá návrhom schémy tajných adries využívajúcej
ZKPs. Schéma umožňuje odosielateľovi (Alice) poslať
prostriedky príjemcovi (Bobovi) bez toho, aby verejne odhalila jeho
identitu. Funguje nasledovne:

\begin{itemize}
    \item \textbf{Príjemca (Bob) zverejní meta údaje tajnej adresy:} Bob
        vygeneruje tajnú hodnotu a uverejní svôj verejný kľúč a haš tejto hodnoty.
        Tieto údaje reprezentujú jeho meta tajnú adresu.
    \item  \textbf{Odosielateľ (Alica) odošle finančné prostriedky: } Alica si dohľadá
        Bobove meta údaje na blockchaine, vygeneruje vlastnú tajnú hodnotu, vypočíta
        kód (haš z kombinácie Bobovho a jej hašu), vytvorí novú tajnú adresu (múdry kontrakt)
        s týmto kódom, pošle na ňu finančné prostriedky a zašifruje svoju tajnú hodnotu
        a adresu kontraktu Bobovým verejným kľúčom. Tento zašifrovaný kľúč sa
        nazýva efemérny kľúč a zverejní ho do registráru.
    \item \textbf{Príjemca (Bob) získa prístup k finančným prostriedkom:} Bob
        dešifruje efemérny kľúč svojím súkromným kľúčom a získa prístup k
        Alicinej tajnej hodnote a adrese kontraktu s finančnými prostriedkami.
    \item \textbf{Príjemca (Bob) prevezme kontrolu nad tajnou adresou:} Bob
        dokáže kontraktu na adrese tým, že vytvorí ZKP, ktorý potvrdzuje, že pozná
        Alicinu aj svoju tajnú hodnotu a že ich kombinácia sa zhoduje s kódom
        v zmluve tajnej adresy. Tento dôkaz odošle do kontraktu na adrese,
        ktorá ho overí.
\end{itemize}

Táto schéma zabezpečuje, že iba Bob môže kontrolovať a získať prístup k
finančným prostriedkom zaslaným na stealth adresu. Zároveň chráni jeho
identitu, pretože stealth adresa nie je priamo spojená s jeho verejnou
identitou.


\section{Diskusia o bezpečnosti}

V tejto kapitole sú neformalne predstavené bezpečnostné predpoklady, z ktorých
vyplýva bezpečnosť navrhnutej schémy.

\begin{enumerate}
    \item \textbf{Groth16:} Je predpokladané, že ZKP systém Groth16 \cite{Groth16}:
        \begin{itemize}
            \item Kompletný (completness) - čestný dokazovateľ vždy presvedči čestného overovateľa.
            \item Solídny (soundness) - nečestný dokazovateľ nepresvedčí čestného overovateľa.
            \item Nulové vedomie (zero knowledge) - nečestný overovateľ sa nedozvie nič, okrem
                pravdivostnej hodnoty dokazovaného výroku.
        \end{itemize}
    \item \textbf{Dôveryhodné nastavenie:} Groth16 systém potrebuje na svoju bezpečnú
        aplikáciu dôveryhodné nastavenie. Ak je nejaká strana v tomto nastavenií
        je nečesntá, dokázala by to zneužiť a vytvárať valídne dokazy o nepravdivých
        tvrdeniach.
    \item \textbf{Nekolízna hašovacia funkcia:} predpokladá sa, že použitá inštancia
        hašovacej funkcie je nekolízna.
    \item \textbf{Kryptografia eliptických kriviek: } predpokladá sa, že Secp256k1
        eliptická krivka neobsahuje žiadne zadné vrátka a ďalšie výskumy zaoberajúce
        sa touto krivkou neprelomia jej bezpečnosť.
    \item \textbf{Zistenie prijímateľovej tajnej hodnoty: } predpokladá sa, že prijímateľovu
        tajnú hodnotu pozná iba prijímateľ.
    \item \textbf{Zistenie odosieľateľovej tajnej hodnoty: } predpokladá sa, že odosieľateľovu
        tajnú hodnotu pozná iba odosieľateľ.
\end{enumerate}

\section{Implementácia}

Implementácia je rozdelená na tieto štyri časti:

\subsection{Intrekcia medzi komponentami}

V tejto sekcií je UML diagramami objasnené, ako medzi sebou jednotlivé komponenty
interagujú a aký je interakčný tok medzi nimi.

\subsection{Obvody}

V sekcií Obvody je špecifikované aké verejné a privátne parametre implementovaný
aritmetický obvod príjima. Taktiež je popísané ako bol prevedené dôveryhodné
nastavenie.

\subsection{Múdre kontrakty}

Múdre kontrakty sú napísane v programovacom jazyku Solidity a boli vyvýjane a
testované pomocou Foundry. Nasadené boli pomocou služby Infura na testovaciu
sieť Sepolia.

\subsection{Webová aplikácia}

Peňaženka ktorá podporuje navrhnutú schému tajných adries je implementovaná ako
webová aplikácia do prehliadačov. Pozostáva z dvoch častí, jedna pre posieľateľa
(Alicu) a druhá pre prijímateľa (Boba).

\section{Evaluácia}

Vyhodnotenie splnenia požiadaviek špecifikovaných v návrhu je opísane v tejto
kapitole. Taktiež sa tu nachádza aj demonštrácia implementovaného návrhu. V tejto
demonštácií je postupne prejdený celý postup ako by odosielateľ (Alica) poslala
Ether prijímateľovi (Bobovi) a si ich vie prijímateľ sledovať a nakoniec
aj prevziať. Ďalej je opísaná analýza poplatkov pre hlavné časť implementovaných
múdrych kontraktov. Nakoniec sú zdokumentované výsledky nástrojov statickej analýzy
Adreryn \cite{githubCyfrinaderyn} a Slither \cite{githubCryticslither}. Nálezy
týchto nástrojov boli zaznamenané a buď opravené alebo inak adresované.

\section{Záver}

Táto práca poukázala ako sa dajú využiť dôkazy s nulovým vedomím na návrh
schémy tajných adries. Tieto adresy umožňujú dvom účastníkom privatne si preposlať
Ether na Ethereum blockchaine a to tak, že z verenjých dát sa nedá vyvodiť
identita prijímateľa. Taktiež táto práca poskytla aj fungujúcu implementáciu
navrhnutej schémy. 

Naskytli sa aj ďalšie možné smery výskumu z tejto práce. V prípade väčšieho záujmu
o používanie takejto schémy, prvým problémom by bola práve časť získavania
efemérnych kľučov. Táto časť sa spolieha na naivné lineárne prehľadávanie
registra efemérnych kľúčov. Wang \cite{Wang2023} adresuje tento problém a navrhuje
schému rýchlych tajných adries, ktoré majú lepšie efektivitu pri dohľadávaní
potrebných dát pre vykonanie privátnej transakcie. Vitalik Buterin \cite{ButerinIncompleteGuide}
poukázal aj na problém pri strate privátnych kľúčov a načrtol potencionálne
riešenie za použitia sociálne obnoviteľných peňaženiek.

\end{otherlanguage}
